{% load cache mptt_tags %}

{% cache cache_time object %}
<ul>
    {% recursetree nodes %}
        <li {% if object = node.content_object %}class="current"{% elif node.parent and object = node.parent.content_object %}class="current_parent"{% endif %}>
            <a href={{ node.content_object.get_absolute_url }}>{{ node.content_object }}</a>
            <ul class="children">
                {{ children }}
            </ul>
        </li>
    {% endrecursetree %}
</ul>
{% endcache %}